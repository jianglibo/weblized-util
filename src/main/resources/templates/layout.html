<!doctype html>
<html th:fragment="layout (title,links, header, content, script)" xmlns:th="http://www.fhymeleaf.org">

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="description" content="Quickstart your next web project with these example layouts.">

	<title th:replace="${title}">Layouts &ndash; Pure</title>

	<!-- 
<link rel="stylesheet"
	href="https://unpkg.com/purecss@1.0.0/build/pure-min.css"
	integrity="sha384-nn4HPE8lTHyVtfCBi5yW9d20FjT8BJwUXyWZT9InLYax14RDjBj46LmSztkmNP9w"
	crossorigin="anonymous">
-->

<link rel="stylesheet" href="../cache-forever/4.1.2/bootstrap.min.css" th:href="@{/cache-forever/4.1.2/bootstrap.min.css}">
<!--	<link rel="stylesheet" href="../cache-forever/4.1.2/bootstrap.modal.css" th:href="@{/cache-forever/4.1.2/bootstrap.modal.css}" -->
	<link rel="stylesheet" href="../public/pure/1.0.0/built/pure-min.css" th:href="@{/pure/1.0.0/built/pure-min.css}">
	<link rel="stylesheet" href="../cache-forever/fontawesome-free-5.1.1-web/css/all.min.css" th:href="@{/cache-forever/fontawesome-free-5.1.1-web/css/all.min.css}">

	<!--
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway:200">
-->
	<!--[if lte IE 8]>
   		<link rel="stylesheet" href="/combo/1.1.2?/css/main-grid-old-ie.css&/css/main-old-ie.css&/css/layouts.css&/css/rainbow/baby-blue.css&/css/customize.css">
	<![endif]-->

	<!--[if gt IE 8]><!-->
	<link rel="stylesheet" href="/combo/1.1.2?/css/main-grid.css&/css/main.css&/css/layouts.css&/css/rainbow/baby-blue.css&/css/customize.css">
	<!--<![endif]-->

	<!--[if lt IE 9]>
        <script src="/combo/1.1.2?/js/html5shiv.js"></script>
	<![endif]-->
	<!--
	<script src="../public/jquery/3.3.1/jquery.min.js" th:src="@{/jquery/3.3.1/jquery.min.js}"></script>
	-->
	<!--/* Per-page placeholder for additional links */-->
	<th:block th:replace="${links}" />
	<script>
	</script>
</head>

<body>
	<div id="layout">
		<div id="poll-result"></div>
		<div id="bs-confirm-container"></div>
		<div id="bs-modal-container"></div>
		<a href="#menu" id="menuLink" class="menu-link">
			<span></span>
		</a>
		<div id="menu">
			<div class="pure-menu">
				<a class="pure-menu-heading" href="/">Pure</a>
				<ul th:remove="all-but-first" class="pure-menu-list">
					<li class="pure-menu-item" th:each="mi: ${menus}" th:classappend="(${mi.groupFirst} ? 'menu-item-divided' : '') + ' ' + (${mi.active} ? 'pure-menu-selected' : '')">
						<a href="/start/" th:href="@{${mi.path}}" class="pure-menu-link" th:text="#{${mi.name}}">Get Started</a>
					</li>
					<li class="pure-menu-item pure-menu-selected">
						<a href="/layouts/" class="pure-menu-link">Layouts</a>
					</li>
					<li class="pure-menu-item menu-item-divided">
						<a href="/base/" class="pure-menu-link">Base</a>
					</li>
					<li class="pure-menu-item">
						<a href="/grids/" class="pure-menu-link">Grids</a>
					</li>
					<li class="pure-menu-item">
						<a href="/forms/" class="pure-menu-link">Forms</a>
					</li>
					<li class="pure-menu-item">
						<a href="/buttons/" class="pure-menu-link">Buttons</a>
					</li>
					<li class="pure-menu-item">
						<a href="/tables/" class="pure-menu-link">Tables</a>
					</li>
					<li class="pure-menu-item">
						<a href="/menus/" class="pure-menu-link">Menus</a>
					</li>
					<li class="pure-menu-item menu-item-divided">
						<a href="/tools/" class="pure-menu-link">Tools</a>
					</li>
					<li class="pure-menu-item">
						<a href="/customize/" class="pure-menu-link">Customize</a>
					</li>
					<li class="pure-menu-item">
						<a href="/extend/" class="pure-menu-link">Extend</a>
					</li>
					<li class="pure-menu-item">
						<a href="http://blog.purecss.io/" class="pure-menu-link">Blog</a>
					</li>
					<li class="pure-menu-item">
						<a href="https://github.com/pure-css/pure/releases/" class="pure-menu-link">Releases</a>
					</li>
				</ul>
			</div>
		</div>

		<div id="main">
			<div class="header" th:replace="${header}">
				<h1>Layouts</h1>
				<h2>Quickstart your next web project with these example layouts.</h2>
			</div>

			<div class="content" th:replace="${content}" th:remove="all">
				<h2 id="common-layouts" class="content-subhead">
					Common Layouts
					<a href="#common-layouts" class="content-link" title="Heading anchor"></a>
				</h2>
				<p>Pure was crafted with the goal that it can be used in every web project. To showcase this, we've made some common layouts
					that leverage Pure. These layouts are responsive and don't require JavaScript (except for certain menu interactions).</p>

				<aside>
					<p>
						When viewing these layouts, view or copy the source to get a good understanding of what's happening. These layout examples
						are free to use in your own projects under the
						<a href="http://www.zlib.net/zlib_license.html">zLib license</a>.
					</p>
				</aside>

				<div class="layout-item l-wrap pure-g">
					<div class="layout-item-screenshot content pure-u-1 u-sm-1-2">
						<a href="/layouts/blog/">
							<img th:src="@{/img/layouts/blog@2x.jpg}" src="../public/img/layouts/blog@2x.jpg" class="pure-img-responsive" width="400"
							 height="214" alt="Screenshot of Blog example layout.">
						</a>
					</div>

					<div class="layout-item-content content pure-u-1 u-sm-1-2">
						<h3 class="layout-item-head">Blog</h3>
						<p>A layout example that shows off a blog page with a list of posts.
						</p>

						<ul class="layout-item-modules pure-g">
							<li class="layout-item-module layout-item-module-base pure-u">
								<a href="/base/">base</a>
							</li>
							<li class="layout-item-module layout-item-module-grids pure-u">
								<a href="/grids/">grids</a>
							</li>
							<li class="layout-item-module layout-item-module-buttons pure-u">
								<a href="/buttons/">buttons</a>
							</li>
							<li class="layout-item-module layout-item-module-menus pure-u">
								<a href="/menus/">menus</a>
							</li>
						</ul>

						<p>
							<a href="/layouts/blog/" class="pure-button pure-button-primary">View</a>

							<a href="/layouts/blog/download" onclick="return Pure.trackDownload.call(this, 'layouts', 'blog');" class="pure-button">Download</a>
						</p>
					</div>
				</div>
				<div class="layout-item l-wrap pure-g">
					<div class="layout-item-screenshot content pure-u-1 u-sm-1-2">
						<a href="/layouts/email/">
							<img src="../public/img/layouts/email@2x.jpg" th:src="@{/img/layouts/email@2x.jpg}" class="pure-img-responsive" width="400"
							 height="214" alt="Screenshot of Email example layout.">
						</a>
					</div>

					<div class="layout-item-content content pure-u-1 u-sm-1-2">
						<h3 class="layout-item-head">Email</h3>
						<p>A layout example that shows off a responsive email layout.</p>

						<ul class="layout-item-modules pure-g">
							<li class="layout-item-module layout-item-module-base pure-u">
								<a href="/base/">base</a>
							</li>
							<li class="layout-item-module layout-item-module-grids pure-u">
								<a href="/grids/">grids</a>
							</li>
							<li class="layout-item-module layout-item-module-buttons pure-u">
								<a href="/buttons/">buttons</a>
							</li>
							<li class="layout-item-module layout-item-module-menus pure-u">
								<a href="/menus/">menus</a>
							</li>
						</ul>

						<p>
							<a href="/layouts/email/" class="pure-button pure-button-primary">View</a>

							<a href="/layouts/email/download" onclick="return Pure.trackDownload.call(this, 'layouts', 'email');" class="pure-button">Download</a>
						</p>
					</div>
				</div>
				<div class="layout-item l-wrap pure-g">
					<div class="layout-item-screenshot content pure-u-1 u-sm-1-2">
						<a href="/layouts/gallery/">
							<img th:src="/img/layouts/gallery@2x.jpg" src="../public/img/layouts/gallery@2x.jpg" class="pure-img-responsive" width="400"
							 height="214" alt="Screenshot of Photo Gallery example layout.">
						</a>
					</div>

					<div class="layout-item-content content pure-u-1 u-sm-1-2">
						<h3 class="layout-item-head">Photo Gallery</h3>
						<p>A layout example that shows off a responsive photo gallery.</p>

						<ul class="layout-item-modules pure-g">
							<li class="layout-item-module layout-item-module-base pure-u">
								<a href="/base/">base</a>
							</li>
							<li class="layout-item-module layout-item-module-grids pure-u">
								<a href="/grids/">grids</a>
							</li>
							<li class="layout-item-module layout-item-module-forms pure-u">
								<a href="/forms/">forms</a>
							</li>
							<li class="layout-item-module layout-item-module-buttons pure-u">
								<a href="/buttons/">buttons</a>
							</li>
							<li class="layout-item-module layout-item-module-menus pure-u">
								<a href="/menus/">menus</a>
							</li>
						</ul>

						<p>
							<a href="/layouts/gallery/" class="pure-button pure-button-primary">View</a>
							<a href="/layouts/gallery/download" onclick="return Pure.trackDownload.call(this, 'layouts', 'gallery');" class="pure-button">Download</a>
						</p>
					</div>
				</div>
				<div class="layout-item l-wrap pure-g">
					<div class="layout-item-screenshot content pure-u-1 u-sm-1-2">
						<a href="/layouts/marketing/">
							<img th:src="@{/img/layouts/marketing@2x.jpg}" src="../public/img/layouts/marketing@2x.jpg" class="pure-img-responsive" width="400"
							 height="214" alt="Screenshot of Landing Page example layout.">
						</a>
					</div>

					<div class="layout-item-content content pure-u-1 u-sm-1-2">
						<h3 class="layout-item-head">Landing Page</h3>
						<p>A layout example that shows off a responsive product landing page.</p>

						<ul class="layout-item-modules pure-g">
							<li class="layout-item-module layout-item-module-base pure-u">
								<a href="/base/">base</a>
							</li>
							<li class="layout-item-module layout-item-module-grids pure-u">
								<a href="/grids/">grids</a>
							</li>
							<li class="layout-item-module layout-item-module-buttons pure-u">
								<a href="/buttons/">buttons</a>
							</li>
							<li class="layout-item-module layout-item-module-menus pure-u">
								<a href="/menus/">menus</a>
							</li>
							<li class="layout-item-module layout-item-module-forms pure-u">
								<a href="/forms/">forms</a>
							</li>
						</ul>

						<p>
							<a href="/layouts/marketing/" class="pure-button pure-button-primary">View</a>
							<a href="/layouts/marketing/download" onclick="return Pure.trackDownload.call(this, 'layouts', 'marketing');" class="pure-button">Download</a>
						</p>
					</div>
				</div>


			</div>




			<div class="footer">
				<div class="legal pure-g">
					<div class="pure-u-1 u-sm-1-2">
						<p class="legal-license">
							<!--
							This site is built with &lt;3 using Pure v1.0.0
							<br> All code on this site is licensed under the
							<a href="https://github.com/pure-css/pure-site/blob/master/LICENSE.md">Yahoo BSD License</a> unless otherwise stated.
							-->
						</p>
					</div>

					<div class="pure-u-1 u-sm-1-2">
						<!--
						<ul class="legal-links">
							<li>
								<a href="https://github.com/pure-css/pure/">GitHub Project
								</a>
							</li>
							<li>
								<a href="https://hackerone.com/yahoo/">Security Contact Info</a>
							</li>
						</ul>
						-->
						<p class="legal-copyright">&copy; 2018 - 宁波汇民科技 All rights reserved.</p>
					</div>
				</div>
			</div>
		</div>
	</div>

	<script src="/combo/1.1.2?/js/track-downloads.js&/js/ui.js&/js/rainbow/rainbow.min.js&/js/rainbow/language/generic.js&/js/rainbow/language/html.js&/js/rainbow/language/css.js&/js/rainbow/language/javascript.js&/js/rainbow/language/shell.js"></script>
	<script th:src="@{/cache-forever/freact/main.d99f4a71.js}" src="../cache-forever/freact/main.d99f4a71.js"></script>
	<!--
	<script th:src="@{/combo/1.18.13?/js/bootstrap.js}" src="../public/js/bootstrap.js"></script>
	-->

	<script>
		var bsConfirm = function (callback) {
			window.freact.confirm('bs-confirm-container', '确认操作', '继续或放弃？', callback);
		}

		var showModal = function (title, content, ttl, size) {
			window.freact.showModal('bs-modal-container', title, content, ttl, size);
		}

		var pollResult = function (title, content) {
			window.freact.showCard(
				'poll-result',
				title,
				undefined,
				content,
				3,[],
				// [{
				// 	label: 'alink', onClick: function () {
				// 		console.log(this);
				// 	}
				// }],
				{
					width: "18rem",
					display: 'none',
					position: 'fixed',
					right: '0px',
					top: '0px',
					zIndex: 10000
				}
			);
		}
		jQuery('aside.success').fadeOut(3000);
	</script>
	<th:block th:replace="${script}" />
	<script>
		(function poll() {
			jQuery.ajax({
				url: "/app/polling",
				method: 'GET',
				timeout: 0
			}).done(
				function (responseData, textStatus, jqXHR) {
					if (typeof responseData === 'object') {
						if (responseData.message) {
							if (responseData.message !== 'timeout') {
								pollResult('有任务失败了。', responseData.message);
							}
						} else {
							console.log(responseData);
							var data = responseData.data;
							var errors = responseData.errors;
							if (errors && errors.length > 0) {
								var t = window.freact.strUtil.format('任务：{tk} 失败！', {tk: errors[0].message});
								pollResult('有任务结束', t);
							}
							if (data && data.length > 0) {
								var facade = data[0].result && data[0].result.commonActionResult; 
								if (facade) {
									var v = data[0].result.expected;
									if (v) {
										var t = window.freact.strUtil.format('任务：{tk} 已完成。', {tk: data[0].description});
										pollResult("有任务结束", t);
									} else {
										var t = window.freact.strUtil.format('任务：{tk} 失败！', {tk: data[0].description});
										pollResult('有任务结束', t);
									}
								} else {
									var t = window.freact.strUtil.format('任务：{tk} 结束', {tk: data[0].description});
									pollResult('有任务结束', t);
								}
								if(window.afterAsyncDone) {
									window.afterAsyncDone(data);
								}
							}
						}
					} else {
						pollResult('有任务顺利完成啦', responseData);
					}
				}
			)
				.fail(
					function (jqXHR, textStatus, errorThrown) {
						console.log(textStatus);
					}
				)
				.always(
					poll
				);
		})();
	</script>
</body>

</html>